From 4b3b3690a8cea494659a6db062e5d79923b6200c Mon Sep 17 00:00:00 2001
From: Portisch <hugo.portisch@yahoo.de>
Date: Mon, 10 Mar 2025 15:56:49 +0100
Subject: [PATCH] Revert "[cmake] Swig, explicitly set path using
 CMAKE_BINARY_DIR"

This reverts commit 5c857798d9ed61e2f2b80cf33ba03b428487f579.
---
 xbmc/interfaces/swig/CMakeLists.txt | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/xbmc/interfaces/swig/CMakeLists.txt b/xbmc/interfaces/swig/CMakeLists.txt
index d9b6e27922..7d129a1613 100644
--- a/xbmc/interfaces/swig/CMakeLists.txt
+++ b/xbmc/interfaces/swig/CMakeLists.txt
@@ -27,7 +27,7 @@ function(generate_file file)
   # execute_process needs explicit use of explicit swig executable location. it is not TARGET aware
   # retrieve location property from TARGET
   get_target_property(_swig_exe SWIG::SWIG IMPORTED_LOCATION)
-  execute_process(COMMAND ${_swig_exe} -MM -MF ${CMAKE_BINARY_DIR}/build/swig/${file}.dep ${SWIG_ARGS})
+  execute_process(COMMAND ${_swig_exe} -MM -MF build/swig/${file}.dep ${SWIG_ARGS})
   file(READ ${CMAKE_BINARY_DIR}/build/swig/${file}.dep swig_deps)
 
   # Match all lines except the first one until " \"
@@ -49,7 +49,7 @@ function(generate_file file)
                      ARGS ${JAVA_OPEN_OPTS} -cp "${classpath}" groovy.ui.GroovyMain ${CMAKE_SOURCE_DIR}/tools/codegenerator/Generator.groovy ${file}.xml ${CMAKE_CURRENT_SOURCE_DIR}/../python/PythonSwig.cpp.template ${file}.cpp > ${devnull}
                      ${CLANG_FORMAT_COMMAND}
                      DEPENDS SWIG::SWIG ${swig_deps} ${CMAKE_CURRENT_SOURCE_DIR}/../python/PythonSwig.cpp.template
-                     BYPRODUCTS ${CMAKE_BINARY_DIR}/build/swig/${CPP_FILE} ${CMAKE_BINARY_DIR}/build/swig/${file}.xml)
+                     BYPRODUCTS build/swig/${CPP_FILE} build/swig/${file}.xml)
 
   set(SOURCES ${SOURCES} "${CPP_FILE}" PARENT_SCOPE)
 endfunction()
-- 
2.43.0

